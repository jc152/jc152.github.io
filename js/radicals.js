var kana = {						
'hsingle' :
	{'one, horizontal stroke': '<img class="radicalimg" src="kana/radical/001.png" width="150" height="150">', 'vertical stroke': '<img class="radicalimg" src="kana/radical/002.png" width="150" height="150">', 'dot': '<img class="radicalimg" src="kana/radical/003.png" width="150" height="150">', 'diagonal sweeping stroke': '<img class="radicalimg" src="kana/radical/004.png" width="150" height="150">', 'diagonal sweeping stroke (variant)': '<img class="radicalimg" src="kana/radical/004a.png" width="150" height="150">', 'the second': '<img class="radicalimg" src="kana/radical/005.png" width="150" height="150">', 'the second (variant)': '<img class="radicalimg" src="kana/radical/006.png" width="150" height="150">', 'vertical stroke with a hook': '<img class="radicalimg" src="kana/radical/007.png" width="150" height="150">'},
'hk':
	{ 'two': '<img class="radicalimg" src="kana/radical/008.png" width="150" height="150">',	
	'lid, top': '<img class="radicalimg" src="kana/radical/009.png" width="150" height="150">',	
	'person': '<img class="radicalimg" src="kana/radical/010.png" width="150" height="150">',	
	'person (variant 1)': '<img class="radicalimg" src="kana/radical/011.png" width="150" height="150">',	
	'person (variant 2)': '<img class="radicalimg" src="kana/radical/012.png" width="150" height="150">',	
	'human legs': '<img class="radicalimg" src="kana/radical/013.png" width="150" height="150">',	
	'to enter': '<img class="radicalimg" src="kana/radical/014.png" width="150" height="150">',	
	'eight': '<img class="radicalimg" src="kana/radical/015.png" width="150" height="150">',	
	'eight (variant)': '<img class="radicalimg" src="kana/radical/016.png" width="150" height="150">',	
	'to enclose': '<img class="radicalimg" src="kana/radical/017.png" width="150" height="150">',	
	'cover, crown': '<img class="radicalimg" src="kana/radical/018.png" width="150" height="150">',	
	'ice': '<img class="radicalimg" src="kana/radical/019.png" width="150" height="150">',	
	'table': '<img class="radicalimg" src="kana/radical/020.png" width="150" height="150">',	
	'wind (variant)': '<img class="radicalimg" src="kana/radical/021.png" width="150" height="150">',	
	'container, open box': '<img class="radicalimg" src="kana/radical/022.png" width="150" height="150">',	
	'knife, sword': '<img class="radicalimg" src="kana/radical/023.png" width="150" height="150">',	
	'knife, sword (variant)': '<img class="radicalimg" src="kana/radical/024.png" width="150" height="150">',	
	'power': '<img class="radicalimg" src="kana/radical/025.png" width="150" height="150">',	
	'to wrap': '<img class="radicalimg" src="kana/radical/026.png" width="150" height="150">',	
	'spoon': '<img class="radicalimg" src="kana/radical/027.png" width="150" height="150">',	
	'box': '<img class="radicalimg" src="kana/radical/028.png" width="150" height="150">',	
	'to conceal, hide': '<img class="radicalimg" src="kana/radical/029.png" width="150" height="150">',	
	'ten': '<img class="radicalimg" src="kana/radical/030.png" width="150" height="150">',	
	'oracle': '<img class="radicalimg" src="kana/radical/031.png" width="150" height="150">',	
	'stamp, seal': '<img class="radicalimg" src="kana/radical/032.png" width="150" height="150">',	
	'cliff': '<img class="radicalimg" src="kana/radical/033.png" width="150" height="150">',	
	'private, Katakana Mu': '<img class="radicalimg" src="kana/radical/034.png" width="150" height="150">',	
	'again, right hand': '<img class="radicalimg" src="kana/radical/035.png" width="150" height="150">'},
'hs':
	{ 'mouth': '<img class="radicalimg" src="kana/radical/036.png" width="150" height="150">',	
	'mouth (variant)': '<img class="radicalimg" src="kana/radical/037.png" width="150" height="150">',	
	'border, territorial boundaries': '<img class="radicalimg" src="kana/radical/038.png" width="150" height="150">',	
	'earth': '<img class="radicalimg" src="kana/radical/039.png" width="150" height="150">',	
	'earth (variant)': '<img class="radicalimg" src="kana/radical/040.png" width="150" height="150">',	
	'man, scholar, samurai': '<img class="radicalimg" src="kana/radical/041.png" width="150" height="150">',	
	'man, scholar, samurai (variant)': '<img class="radicalimg" src="kana/radical/042.png" width="150" height="150">',	
	'to follow': '<img class="radicalimg" src="kana/radical/043.png" width="150" height="150">',	
	'to go slowly': '<img class="radicalimg" src="kana/radical/044.png" width="150" height="150">',	
	'evening': '<img class="radicalimg" src="kana/radical/045.png" width="150" height="150">',	
	'large, big': '<img class="radicalimg" src="kana/radical/046.png" width="150" height="150">',	
	'woman': '<img class="radicalimg" src="kana/radical/047.png" width="150" height="150">',	
	'woman (variant)': '<img class="radicalimg" src="kana/radical/048.png" width="150" height="150">',	
	'child, son': '<img class="radicalimg" src="kana/radical/049.png" width="150" height="150">',	
	'child, son (variant)': '<img class="radicalimg" src="kana/radical/050.png" width="150" height="150">',	
	'roof, house': '<img class="radicalimg" src="kana/radical/051.png" width="150" height="150">',	
	'inch, (2.25 cm)': '<img class="radicalimg" src="kana/radical/052.png" width="150" height="150">',	
	'inch, (2.25 cm) (variant)': '<img class="radicalimg" src="kana/radical/053.png" width="150" height="150">',	
	'small': '<img class="radicalimg" src="kana/radical/054.png" width="150" height="150">',	
	'small (variant)': '<img class="radicalimg" src="kana/radical/055.png" width="150" height="150">',	
	'lame leg': '<img class="radicalimg" src="kana/radical/056.png" width="150" height="150">',	
	'corpse, awning': '<img class="radicalimg" src="kana/radical/057.png" width="150" height="150">',	
	'sprout': '<img class="radicalimg" src="kana/radical/058.png" width="150" height="150">',	
	'mountain': '<img class="radicalimg" src="kana/radical/059.png" width="150" height="150">',	
	'mountain (variant 1)': '<img class="radicalimg" src="kana/radical/060.png" width="150" height="150">',	
	'mountain (variant 2)': '<img class="radicalimg" src="kana/radical/061.png" width="150" height="150">',	
	'winding river': '<img class="radicalimg" src="kana/radical/062.png" width="150" height="150">',	
	'river': '<img class="radicalimg" src="kana/radical/063.png" width="150" height="150">',	
	'work, carpenter, skill': '<img class="radicalimg" src="kana/radical/064.png" width="150" height="150">',	
	'work, carpenter, skill (variant)': '<img class="radicalimg" src="kana/radical/065.png" width="150" height="150">',	
	'self': '<img class="radicalimg" src="kana/radical/066.png" width="150" height="150">',	
	'cloth': '<img class="radicalimg" src="kana/radical/067.png" width="150" height="150">',	
	'cloth (variant)': '<img class="radicalimg" src="kana/radical/068.png" width="150" height="150">',	
	'to dry, shield': '<img class="radicalimg" src="kana/radical/069.png" width="150" height="150">',	
	'young, slight': '<img class="radicalimg" src="kana/radical/070.png" width="150" height="150">',	
	'slanting roof': '<img class="radicalimg" src="kana/radical/071.png" width="150" height="150">',	
	'to move, stretch': '<img class="radicalimg" src="kana/radical/072.png" width="150" height="150">',	
	'folded hands': '<img class="radicalimg" src="kana/radical/073.png" width="150" height="150">',	
	'javelin': '<img class="radicalimg" src="kana/radical/074.png" width="150" height="150">',	
	'bow (in archery)': '<img class="radicalimg" src="kana/radical/075.png" width="150" height="150">',	
	'bow (in archery) (variant)': '<img class="radicalimg" src="kana/radical/076.png" width="150" height="150">',	
	'pigs head': '<img class="radicalimg" src="kana/radical/077.png" width="150" height="150">',	
	'pigs head (variant 1)': '<img class="radicalimg" src="kana/radical/078.png" width="150" height="150">',	
	'pigs head (variant 2)': '<img class="radicalimg" src="kana/radical/079.png" width="150" height="150">',	
	'hair-style, light rays': '<img class="radicalimg" src="kana/radical/080.png" width="150" height="150">',	
	'step, stride, street, to go': '<img class="radicalimg" src="kana/radical/081.png" width="150" height="150">',	
	'grass': '<img class="radicalimg" src="kana/radical/082.png" width="150" height="150">',	
	'road, walk, to advance': '<img class="radicalimg" src="kana/radical/083.png" width="150" height="150">',	
	'village, country, city': '<img class="radicalimg" src="kana/radical/084.png" width="150" height="150">',	
	'hill, mound': '<img class="radicalimg" src="kana/radical/085.png" width="150" height="150">',	
	'Katakana Tsu': '<img class="radicalimg" src="kana/radical/086.png" width="150" height="150">',	
	'heart, mind, spirit (variant 1)': '<img class="radicalimg" src="kana/radical/087.png" width="150" height="150">',	
	'hand (variant)': '<img class="radicalimg" src="kana/radical/088.png" width="150" height="150">',	
	'water (variant 1)': '<img class="radicalimg" src="kana/radical/089.png" width="150" height="150">',	
	'beast': '<img class="radicalimg" src="kana/radical/090.png" width="150" height="150">'},
'ht':
	{ 'heart, mind, spirit': '<img class="radicalimg" src="kana/radical/091.png" width="150" height="150">',	
	'heart, mind, spirit (variant 2)': '<img class="radicalimg" src="kana/radical/092.png" width="150" height="150">',	
	'spear, weapon': '<img class="radicalimg" src="kana/radical/093.png" width="150" height="150">',	
	'door': '<img class="radicalimg" src="kana/radical/094.png" width="150" height="150">',	
	'door (variant)': '<img class="radicalimg" src="kana/radical/095.png" width="150" height="150">',	
	'hand': '<img class="radicalimg" src="kana/radical/096.png" width="150" height="150">',	
	'branch': '<img class="radicalimg" src="kana/radical/097.png" width="150" height="150">',	
	'activity, to strike, hit': '<img class="radicalimg" src="kana/radical/098.png" width="150" height="150">',	
	'activity, to strike, hit (variant)': '<img class="radicalimg" src="kana/radical/099.png" width="150" height="150">',	
	'literature, letters': '<img class="radicalimg" src="kana/radical/100.png" width="150" height="150">',	
	'big dipper, ladle, 18 liters': '<img class="radicalimg" src="kana/radical/101.png" width="150" height="150">',	
	'axe': '<img class="radicalimg" src="kana/radical/102.png" width="150" height="150">',	
	'direction, flag': '<img class="radicalimg" src="kana/radical/103.png" width="150" height="150">',	
	'direction, flag (variant)': '<img class="radicalimg" src="kana/radical/104.png" width="150" height="150">',	
	'not': '<img class="radicalimg" src="kana/radical/105.png" width="150" height="150">',	
	'sun, day, time': '<img class="radicalimg" src="kana/radical/106.png" width="150" height="150">',	
	'sun, day, time (variant)': '<img class="radicalimg" src="kana/radical/107.png" width="150" height="150">',	
	'to say': '<img class="radicalimg" src="kana/radical/108.png" width="150" height="150">',	
	'moon, month, period': '<img class="radicalimg" src="kana/radical/109.png" width="150" height="150">',	
	'moon, month, period (variant)': '<img class="radicalimg" src="kana/radical/110.png" width="150" height="150">',	
	'meat, flesh': '<img class="radicalimg" src="kana/radical/111.png" width="150" height="150">',	
	'tree, wood': '<img class="radicalimg" src="kana/radical/112.png" width="150" height="150">',	
	'tree, wood (variant)': '<img class="radicalimg" src="kana/radical/113.png" width="150" height="150">',	
	'to lack, yawn': '<img class="radicalimg" src="kana/radical/114.png" width="150" height="150">',	
	'to stop': '<img class="radicalimg" src="kana/radical/115.png" width="150" height="150">',	
	'death & dying, to decompose': '<img class="radicalimg" src="kana/radical/116.png" width="150" height="150">',	
	'death & dying, to decompose (variant)': '<img class="radicalimg" src="kana/radical/117.png" width="150" height="150">',	
	'lance shaft, action': '<img class="radicalimg" src="kana/radical/118.png" width="150" height="150">',	
	'not, mother': '<img class="radicalimg" src="kana/radical/119.png" width="150" height="150">',	
	'to compare': '<img class="radicalimg" src="kana/radical/120.png" width="150" height="150">',	
	'hair': '<img class="radicalimg" src="kana/radical/121.png" width="150" height="150">',	
	'family, clan': '<img class="radicalimg" src="kana/radical/122.png" width="150" height="150">',	
	'steam, air': '<img class="radicalimg" src="kana/radical/123.png" width="150" height="150">',	
	'water': '<img class="radicalimg" src="kana/radical/124.png" width="150" height="150">',	
	'fire': '<img class="radicalimg" src="kana/radical/125.png" width="150" height="150">',	
	'fire (variant 1)': '<img class="radicalimg" src="kana/radical/126.png" width="150" height="150">',	
	'fire (variant 2)': '<img class="radicalimg" src="kana/radical/127.png" width="150" height="150">',	
	'claw, nail': '<img class="radicalimg" src="kana/radical/128.png" width="150" height="150">',	
	'claw, nail (variant 1)': '<img class="radicalimg" src="kana/radical/129.png" width="150" height="150">',	
	'claw, nail (variant 2)': '<img class="radicalimg" src="kana/radical/130.png" width="150" height="150">',	
	'father': '<img class="radicalimg" src="kana/radical/131.png" width="150" height="150">',	
	'to mix': '<img class="radicalimg" src="kana/radical/132.png" width="150" height="150">',	
	'split wood': '<img class="radicalimg" src="kana/radical/133.png" width="150" height="150">',	
	'split wood (variant 1)': '<img class="radicalimg" src="kana/radical/134.png" width="150" height="150">',	
	'split wood (variant 2)': '<img class="radicalimg" src="kana/radical/135.png" width="150" height="150">',	
	'fang, canine tooth': '<img class="radicalimg" src="kana/radical/136.png" width="150" height="150">',	
	'cow': '<img class="radicalimg" src="kana/radical/137.png" width="150" height="150">',	
	'cow (variant)': '<img class="radicalimg" src="kana/radical/138.png" width="150" height="150">',	
	'dog': '<img class="radicalimg" src="kana/radical/139.png" width="150" height="150">',	
	'jewelry, jeweled king': '<img class="radicalimg" src="kana/radical/140.png" width="150" height="150">',	
	'altar, festival, religious service (variant)': '<img class="radicalimg" src="kana/radical/141.png" width="150" height="150">',	
	'net (variant 1)': '<img class="radicalimg" src="kana/radical/142.png" width="150" height="150">',	
	'old, old-age (variant)': '<img class="radicalimg" src="kana/radical/143.png" width="150" height="150">'},
'hn':
	{ 'darkness': '<img class="radicalimg" src="kana/radical/144.png" width="150" height="150">',	
	'jewelry': '<img class="radicalimg" src="kana/radical/145.png" width="150" height="150">',	
	'melon': '<img class="radicalimg" src="kana/radical/146.png" width="150" height="150">',	
	'tile': '<img class="radicalimg" src="kana/radical/147.png" width="150" height="150">',	
	'sweet': '<img class="radicalimg" src="kana/radical/148.png" width="150" height="150">',	
	'birth, to be born, live': '<img class="radicalimg" src="kana/radical/149.png" width="150" height="150">',	
	'to use': '<img class="radicalimg" src="kana/radical/150.png" width="150" height="150">',	
	'rice paddy': '<img class="radicalimg" src="kana/radical/151.png" width="150" height="150">',	
	'rice paddy (variant)': '<img class="radicalimg" src="kana/radical/152.png" width="150" height="150">',	
	'bolt of cloth': '<img class="radicalimg" src="kana/radical/153.png" width="150" height="150">',	
	'bolt of cloth (variant)': '<img class="radicalimg" src="kana/radical/154.png" width="150" height="150">',	
	'sickness': '<img class="radicalimg" src="kana/radical/155.png" width="150" height="150">',	
	'outspread legs, departure': '<img class="radicalimg" src="kana/radical/156.png" width="150" height="150">',	
	'white': '<img class="radicalimg" src="kana/radical/157.png" width="150" height="150">',	
	'white (variant)': '<img class="radicalimg" src="kana/radical/158.png" width="150" height="150">',	
	'skin, hide': '<img class="radicalimg" src="kana/radical/159.png" width="150" height="150">',	
	'plate, bowl': '<img class="radicalimg" src="kana/radical/160.png" width="150" height="150">',	
	'eye': '<img class="radicalimg" src="kana/radical/161.png" width="150" height="150">',	
	'eye (variant 1)': '<img class="radicalimg" src="kana/radical/162.png" width="150" height="150">',	
	'eye (variant 2)': '<img class="radicalimg" src="kana/radical/163.png" width="150" height="150">',	
	'halberd': '<img class="radicalimg" src="kana/radical/164.png" width="150" height="150">',	
	'halberd (variant)': '<img class="radicalimg" src="kana/radical/165.png" width="150" height="150">',	
	'arrow': '<img class="radicalimg" src="kana/radical/166.png" width="150" height="150">',	
	'arrow (variant)': '<img class="radicalimg" src="kana/radical/167.png" width="150" height="150">',	
	'stone': '<img class="radicalimg" src="kana/radical/168.png" width="150" height="150">',	
	'stone (variant)': '<img class="radicalimg" src="kana/radical/169.png" width="150" height="150">',	
	'altar, festival, religious service': '<img class="radicalimg" src="kana/radical/170.png" width="150" height="150">',	
	'footprint': '<img class="radicalimg" src="kana/radical/171.png" width="150" height="150">',	
	'grain': '<img class="radicalimg" src="kana/radical/172.png" width="150" height="150">',	
	'hole, cave': '<img class="radicalimg" src="kana/radical/173.png" width="150" height="150">',	
	'hole, cave (variant)': '<img class="radicalimg" src="kana/radical/174.png" width="150" height="150">',	
	'to stand': '<img class="radicalimg" src="kana/radical/175.png" width="150" height="150">',	
	'to stand (variant)': '<img class="radicalimg" src="kana/radical/176.png" width="150" height="150">',	
	'fang, canine tooth (variant 1)': '<img class="radicalimg" src="kana/radical/177.png" width="150" height="150">',	
	'fang, canine tooth (variant 2)': '<img class="radicalimg" src="kana/radical/178.png" width="150" height="150">',	
	'water (variant 2)': '<img class="radicalimg" src="kana/radical/179.png" width="150" height="150">',	
	'net (variant 2)': '<img class="radicalimg" src="kana/radical/180.png" width="150" height="150">',	
	'net (variant)': '<img class="radicalimg" src="kana/radical/181.png" width="150" height="150">',	
	'clothing (variant)': '<img class="radicalimg" src="kana/radical/182.png" width="150" height="150">',	
	'not (variant)': '<img class="radicalimg" src="kana/radical/183.png" width="150" height="150">'},
'hh':
	{ 'bamboo': '<img class="radicalimg" src="kana/radical/184.png" width="150" height="150">',	
	'bamboo (variant)': '<img class="radicalimg" src="kana/radical/185.png" width="150" height="150">',	
	'rice': '<img class="radicalimg" src="kana/radical/186.png" width="150" height="150">',	
	'rice (variant)': '<img class="radicalimg" src="kana/radical/187.png" width="150" height="150">',	
	'thread': '<img class="radicalimg" src="kana/radical/188.png" width="150" height="150">',	
	'thread (variant)': '<img class="radicalimg" src="kana/radical/189.png" width="150" height="150">',	
	'earthen jar': '<img class="radicalimg" src="kana/radical/190.png" width="150" height="150">',	
	'net': '<img class="radicalimg" src="kana/radical/191.png" width="150" height="150">',	
	'sheep': '<img class="radicalimg" src="kana/radical/192.png" width="150" height="150">',	
	'sheep (variant)': '<img class="radicalimg" src="kana/radical/193.png" width="150" height="150">',	
	'feather, wing': '<img class="radicalimg" src="kana/radical/194.png" width="150" height="150">',	
	'feather, wing (variant)': '<img class="radicalimg" src="kana/radical/195.png" width="150" height="150">',	
	'old, old-age': '<img class="radicalimg" src="kana/radical/196.png" width="150" height="150">',	
	'and also': '<img class="radicalimg" src="kana/radical/197.png" width="150" height="150">',	
	'plow': '<img class="radicalimg" src="kana/radical/198.png" width="150" height="150">',	
	'ear': '<img class="radicalimg" src="kana/radical/199.png" width="150" height="150">',	
	'ear (variant)': '<img class="radicalimg" src="kana/radical/200.png" width="150" height="150">',	
	'writing brush': '<img class="radicalimg" src="kana/radical/201.png" width="150" height="150">',	
	'flesh, meat': '<img class="radicalimg" src="kana/radical/202.png" width="150" height="150">',	
	'retainer, minister': '<img class="radicalimg" src="kana/radical/203.png" width="150" height="150">',	
	'self (variant)': '<img class="radicalimg" src="kana/radical/204.png" width="150" height="150">',	
	'to arrive, reach': '<img class="radicalimg" src="kana/radical/205.png" width="150" height="150">',	
	'to arrive, reach (variant)': '<img class="radicalimg" src="kana/radical/206.png" width="150" height="150">',	
	'mortar, quern': '<img class="radicalimg" src="kana/radical/207.png" width="150" height="150">',	
	'tongue': '<img class="radicalimg" src="kana/radical/208.png" width="150" height="150">',	
	'contrary, to err': '<img class="radicalimg" src="kana/radical/209.png" width="150" height="150">',	
	'ship, boat': '<img class="radicalimg" src="kana/radical/210.png" width="150" height="150">',	
	'ship, boat (variant)': '<img class="radicalimg" src="kana/radical/211.png" width="150" height="150">',	
	'boundary': '<img class="radicalimg" src="kana/radical/212.png" width="150" height="150">',	
	'color': '<img class="radicalimg" src="kana/radical/213.png" width="150" height="150">',	
	'grass, plant': '<img class="radicalimg" src="kana/radical/214.png" width="150" height="150">',	
	'tiger': '<img class="radicalimg" src="kana/radical/215.png" width="150" height="150">',	
	'worm, insect, bug': '<img class="radicalimg" src="kana/radical/216.png" width="150" height="150">',	
	'worm, insect, bug (variant)': '<img class="radicalimg" src="kana/radical/217.png" width="150" height="150">',	
	'blood': '<img class="radicalimg" src="kana/radical/218.png" width="150" height="150">',	
	'to go': '<img class="radicalimg" src="kana/radical/219.png" width="150" height="150">',	
	'clothing': '<img class="radicalimg" src="kana/radical/220.png" width="150" height="150">',	
	'cover, west': '<img class="radicalimg" src="kana/radical/221.png" width="150" height="150">',	
	'cover, west (variant)': '<img class="radicalimg" src="kana/radical/222.png" width="150" height="150">',	
	'melon (variant)': '<img class="radicalimg" src="kana/radical/223.png" width="150" height="150">'},
'hm':
	{ 'to see': '<img class="radicalimg" src="kana/radical/224.png" width="150" height="150">',	
	'horn, corner': '<img class="radicalimg" src="kana/radical/225.png" width="150" height="150">',	
	'horn, corner (variant)': '<img class="radicalimg" src="kana/radical/226.png" width="150" height="150">',	
	'words, to speak, say': '<img class="radicalimg" src="kana/radical/227.png" width="150" height="150">',	
	'words, to speak, say (variant)': '<img class="radicalimg" src="kana/radical/228.png" width="150" height="150">',	
	'valley': '<img class="radicalimg" src="kana/radical/229.png" width="150" height="150">',	
	'valley (variant)': '<img class="radicalimg" src="kana/radical/230.png" width="150" height="150">',	
	'bean': '<img class="radicalimg" src="kana/radical/231.png" width="150" height="150">',	
	'bean (variant)': '<img class="radicalimg" src="kana/radical/232.png" width="150" height="150">',	
	'pig': '<img class="radicalimg" src="kana/radical/233.png" width="150" height="150">',	
	'badger': '<img class="radicalimg" src="kana/radical/234.png" width="150" height="150">',	
	'shell, property, wealth': '<img class="radicalimg" src="kana/radical/235.png" width="150" height="150">',	
	'shell, property, wealth (variant)': '<img class="radicalimg" src="kana/radical/236.png" width="150" height="150">',	
	'red': '<img class="radicalimg" src="kana/radical/237.png" width="150" height="150">',	
	'to run': '<img class="radicalimg" src="kana/radical/238.png" width="150" height="150">',	
	'to run (variant)': '<img class="radicalimg" src="kana/radical/239.png" width="150" height="150">',	
	'foot, leg': '<img class="radicalimg" src="kana/radical/240.png" width="150" height="150">',	
	'foot, leg (variant)': '<img class="radicalimg" src="kana/radical/241.png" width="150" height="150">',	
	'body': '<img class="radicalimg" src="kana/radical/242.png" width="150" height="150">',	
	'body (variant)': '<img class="radicalimg" src="kana/radical/243.png" width="150" height="150">',	
	'vehicle, wheel, car': '<img class="radicalimg" src="kana/radical/244.png" width="150" height="150">',	
	'vehicle, wheel, car (variant)': '<img class="radicalimg" src="kana/radical/245.png" width="150" height="150">',	
	'bitter': '<img class="radicalimg" src="kana/radical/246.png" width="150" height="150">',	
	'Fifth zodiac sign, 7–9 A.M.': '<img class="radicalimg" src="kana/radical/247.png" width="150" height="150">',	
	'to advance, move ahead': '<img class="radicalimg" src="kana/radical/248.png" width="150" height="150">',	
	'community': '<img class="radicalimg" src="kana/radical/249.png" width="150" height="150">',	
	'sake jar, bird': '<img class="radicalimg" src="kana/radical/250.png" width="150" height="150">',	
	'sake jar, bird (variant)': '<img class="radicalimg" src="kana/radical/251.png" width="150" height="150">',	
	'to separate': '<img class="radicalimg" src="kana/radical/252.png" width="150" height="150">',	
	'to separate (variant)': '<img class="radicalimg" src="kana/radical/253.png" width="150" height="150">',	
	'village, (3.93 km)': '<img class="radicalimg" src="kana/radical/254.png" width="150" height="150">',	
	'village, (3.93 km) (variant)': '<img class="radicalimg" src="kana/radical/255.png" width="150" height="150">',	
	'retainer, minister (variant)': '<img class="radicalimg" src="kana/radical/256.png" width="150" height="150">',	
	'contrary, to err (variant)': '<img class="radicalimg" src="kana/radical/257.png" width="150" height="150">',	
	'wheat (variant)': '<img class="radicalimg" src="kana/radical/258.png" width="150" height="150">'},
'hy':
	{ 'metal, gold, mineral': '<img class="radicalimg" src="kana/radical/259.png" width="150" height="150">',	
	'metal, gold, mineral (variant)': '<img class="radicalimg" src="kana/radical/260.png" width="150" height="150">',	
	'long': '<img class="radicalimg" src="kana/radical/261.png" width="150" height="150">',	
	'gate, door': '<img class="radicalimg" src="kana/radical/262.png" width="150" height="150">',	
	'hill': '<img class="radicalimg" src="kana/radical/263.png" width="150" height="150">',	
	'to capture': '<img class="radicalimg" src="kana/radical/264.png" width="150" height="150">',	
	'small bird': '<img class="radicalimg" src="kana/radical/265.png" width="150" height="150">',	
	'rain': '<img class="radicalimg" src="kana/radical/266.png" width="150" height="150">',	
	'rain (variant)': '<img class="radicalimg" src="kana/radical/267.png" width="150" height="150">',	
	'blue, green': '<img class="radicalimg" src="kana/radical/268.png" width="150" height="150">',	
	'blue, green (variant)': '<img class="radicalimg" src="kana/radical/269.png" width="150" height="150">',	
	'wrong, non-': '<img class="radicalimg" src="kana/radical/270.png" width="150" height="150">',	
	'food, to eat (variant)': '<img class="radicalimg" src="kana/radical/271.png" width="150" height="150">',	
	'alike (variant)': '<img class="radicalimg" src="kana/radical/272.png" width="150" height="150">'},
'hr':
	{ 'face, surface': '<img class="radicalimg" src="kana/radical/273.png" width="150" height="150">',	
	'leather': '<img class="radicalimg" src="kana/radical/274.png" width="150" height="150">',	
	'leather (variant 1)': '<img class="radicalimg" src="kana/radical/275.png" width="150" height="150">',	
	'leek': '<img class="radicalimg" src="kana/radical/276.png" width="150" height="150">',	
	'sound, noise': '<img class="radicalimg" src="kana/radical/277.png" width="150" height="150">',	
	'head, page': '<img class="radicalimg" src="kana/radical/278.png" width="150" height="150">',	
	'wind': '<img class="radicalimg" src="kana/radical/279.png" width="150" height="150">',	
	'to fly': '<img class="radicalimg" src="kana/radical/280.png" width="150" height="150">',	
	'food, to eat': '<img class="radicalimg" src="kana/radical/281.png" width="150" height="150">',	
	'head': '<img class="radicalimg" src="kana/radical/282.png" width="150" height="150">',	
	'scent': '<img class="radicalimg" src="kana/radical/283.png" width="150" height="150">'},
'hw':
	{ 'horse': '<img class="radicalimg" src="kana/radical/284.png" width="150" height="150">',	
	'horse (variant)': '<img class="radicalimg" src="kana/radical/285.png" width="150" height="150">',	
	'bone': '<img class="radicalimg" src="kana/radical/286.png" width="150" height="150">',	
	'bone (variant)': '<img class="radicalimg" src="kana/radical/287.png" width="150" height="150">',	
	'high': '<img class="radicalimg" src="kana/radical/288.png" width="150" height="150">',	
	'long hair': '<img class="radicalimg" src="kana/radical/289.png" width="150" height="150">',	
	'fighting': '<img class="radicalimg" src="kana/radical/290.png" width="150" height="150">',	
	'herbs': '<img class="radicalimg" src="kana/radical/291.png" width="150" height="150">',	
	'tripod': '<img class="radicalimg" src="kana/radical/292.png" width="150" height="150">',	
	'demon': '<img class="radicalimg" src="kana/radical/293.png" width="150" height="150">',	
	'leather (variant 2)': '<img class="radicalimg" src="kana/radical/294.png" width="150" height="150">'},
'hn1':
	{ 'fish': '<img class="radicalimg" src="kana/radical/295.png" width="150" height="150">',	
	'fish (variant)': '<img class="radicalimg" src="kana/radical/296.png" width="150" height="150">',	
	'bird': '<img class="radicalimg" src="kana/radical/297.png" width="150" height="150">',	
	'salt': '<img class="radicalimg" src="kana/radical/298.png" width="150" height="150">',	
	'deer': '<img class="radicalimg" src="kana/radical/299.png" width="150" height="150">',	
	'wheat': '<img class="radicalimg" src="kana/radical/300.png" width="150" height="150">',	
	'hemp': '<img class="radicalimg" src="kana/radical/301.png" width="150" height="150">',	
	'hemp (variant)': '<img class="radicalimg" src="kana/radical/302.png" width="150" height="150">',	
	'yellow (variant)': '<img class="radicalimg" src="kana/radical/303.png" width="150" height="150">',	
	'black (variant)': '<img class="radicalimg" src="kana/radical/304.png" width="150" height="150">',	
	'turtle (variant)': '<img class="radicalimg" src="kana/radical/305.png" width="150" height="150">'},
'hg':
	{ 'yellow': '<img class="radicalimg" src="kana/radical/306.png" width="150" height="150">',	
	'millet': '<img class="radicalimg" src="kana/radical/307.png" width="150" height="150">',	
	'black': '<img class="radicalimg" src="kana/radical/308.png" width="150" height="150">',	
	'embroider': '<img class="radicalimg" src="kana/radical/309.png" width="150" height="150">',	
	'tooth (variant)': '<img class="radicalimg" src="kana/radical/310.png" width="150" height="150">'},
'hz':
	{ 'frog': '<img class="radicalimg" src="kana/radical/311.png" width="150" height="150">',	
	'tripod (variant)': '<img class="radicalimg" src="kana/radical/312.png" width="150" height="150">',	
	'drum': '<img class="radicalimg" src="kana/radical/313.png" width="150" height="150">',	
	'rat, mouse': '<img class="radicalimg" src="kana/radical/314.png" width="150" height="150">'},
'hd':
	{ 'nose': '<img class="radicalimg" src="kana/radical/315.png" width="150" height="150">',	
	'alike': '<img class="radicalimg" src="kana/radical/316.png" width="150" height="150">'},
'hb':
	{ 'tooth': '<img class="radicalimg" src="kana/radical/317.png" width="150" height="150">'},
'hp':
	{ 'dragon': '<img class="radicalimg" src="kana/radical/318.png" width="150" height="150">',	
	'turtle': '<img class="radicalimg" src="kana/radical/319.png" width="150" height="150">'},
'hdk':
	{ 'flute': '<img class="radicalimg" src="kana/radical/320.png" width="150" height="150">'},
}						


var show_tools = ['あ', 'い', 'う', 'え', 'お', 'か', 'き', 'く', 'け', 'こ', 'さ', 'し', 'す', 'せ', 'そ', 'た', 'ち', 'つ', 'て', 'と', 'な', 'に', 'ぬ', 'ね', 'の', 'は', 'ひ', 'ふ', 'へ', 'ほ', 'ま', 'み', 'む', 'め', 'も', 'や', 'ゆ', 'よ', 'ら', 'り', 'る', 'れ', 'ろ', 'わ', 'を', 'ん', 'ア', 'イ', 'ウ', 'エ', 'オ', 'カ', 'キ', 'ク', 'ケ', 'コ', 'サ', 'シ', 'ス', 'セ', 'ソ', 'タ', 'チ', 'ツ', 'テ', 'ト', 'ナ', 'ニ', 'ヌ', 'ネ', 'ノ', 'ハ', 'ヒ', 'フ', 'ヘ', 'ホ', 'マ', 'ミ', 'ム', 'メ', 'モ', 'ヤ', 'ユ', 'ヨ', 'ラ', 'リ', 'ル', 'レ', 'ロ', 'ワ', 'ヲ', 'ン'];

var replacements = {
	'o': ['wo'],
	'chi': ['ci'],
	'shi': ['si'],
	'tsu': ['tu'],
	'zu': ['du'],
	'ji': ['di', 'zi'],
	'fu': ['hu'],
	'ja': ['dya'],
	'jo': ['dyo'],
	'ju': ['dyu']
};

var active = [];
var shuffled = [];
var fonts = [];

var cur_kana;
var cur_reading;

var total_answered = 0;
var total_correct = 0;

function save_settings() {
	inputs = document.getElementsByTagName('input');
	for (i = 0; i < inputs.length; i++) {
		if (inputs[i].type == 'checkbox') {
			checked = inputs[i].checked ? '1' : '0';
			localStorage.setItem('kana_' + inputs[i].id, checked);
		}
	}
	
	collect();
}

function load_settings() {
	inputs = document.getElementsByTagName('input');
	for (i = 0; i < inputs.length; i++) {
		if (inputs[i].type == 'checkbox') {
			var setting = localStorage.getItem('kana_' + inputs[i].id);
			if(setting === '1') {
				inputs[i].checked = true;
			} else if(setting === '0') {
				inputs[i].checked = false;
			}
		}
	}
	
	collect();
}

function check(set) {
	var trs = document.getElementsByClassName(set);
	for (i = 0; i < trs.length; i++) {
		var tds = trs[i].children;
		for (x = 0; x < tds.length; x++) {
			if(tds[x].children[0].id != 'KOI-WIN') {
				tds[x].children[0].checked = true;
			}
		}
	}
	save_settings();
}

function uncheck(set) {
	var trs = document.getElementsByClassName(set);
	for (i = 0; i < trs.length; i++) {
		var tds = trs[i].children;
		for (x = 0; x < tds.length; x++) {
			tds[x].children[0].checked = false;
		}
	}
	save_settings();
}

function shuffle(orig_array) {
	var array = orig_array.slice(0);
	var currentIndex = array.length, temporaryValue, randomIndex;

	while (0 !== currentIndex) {

		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex -= 1;

		temporaryValue = array[currentIndex];
		array[currentIndex] = array[randomIndex];
		array[randomIndex] = temporaryValue;
	}

	return array;
}

function collect() {
	kanacheck = document.getElementsByClassName('kanacheck');
	active = [];
	shuffled = [];
	for (i = 0; i < kanacheck.length; i++) {
		cur = kanacheck[i];
		if(cur.checked == true) {
			for (p in kana[cur.id]) {
				active.push( [p, kana[cur.id][p]] );
			}
		}
	}
	
	fonts = [];
	fontcheck = document.getElementsByClassName('fontcheck');
	for (i = 0; i < fontcheck.length; i++) {
		if(fontcheck[i].checked == true) {
			fonts.push(fontcheck[i].id);
		}
	}
}

function show_kana() {	
	wrong = false;
	document.getElementById('input_box').value = '';
	
	if(active.length == 0) {
		document.getElementById('hsingle').checked = true;
		save_settings();
	}
	
	if(fonts.length == 0) {
		document.getElementById('default').checked = true;
		save_settings();
	}
	
	if(total_answered > 0) {
		document.getElementById('count').innerHTML = total_correct + '/' + total_answered;
		document.getElementById('message').innerHTML = '&nbsp;';
	}
	
	if(shuffled.length == 0) {
		shuffled = shuffle(active);
	}
	
	if(cur_kana && shuffled[0][0] == cur_kana) {
		shuffled.shift();
	}
	
	cur_kana = shuffled[0][0];
	cur_reading = shuffled[0][1];
	
	shuffled.shift();
	
	var font = fonts[Math.floor(Math.random()*fonts.length)];
	
	if(font == 'default') {
		document.getElementById('kana').innerHTML = cur_kana;
	} else {
		document.getElementById('kana').innerHTML = '<img class="inverse" src="kana/fonts/' + font + '/' + cur_kana + '.png" />';
	}
	document.getElementById('answer').innerHTML = cur_reading;
	
	if(show_tools.indexOf(cur_kana) == -1) {
		document.getElementById('tool_stroke').style.visibility = 'hidden';
	} else {
		document.getElementById('tool_stroke').style.visibility = 'hidden';
	}
}

function check_answer() {
	answer = document.getElementById('input_box').value.toLowerCase();
	if(! answer) {
		answer = 'x';
	}
	
	chars = answer.split('');
	
	possible = [cur_reading];
	if(cur_reading in replacements) {
		possible = possible.concat(replacements[cur_reading]);
	}

	for (i = 0; i < chars.length; i++) {
		var err = true;
		
		for (x = 0; x < possible.length; x++) {
			if(chars[i] == possible[x].charAt(i)) {
				err = false;
			}
			if(answer == possible[x]) {
				answer = cur_reading;
			}
		}
		
		if(err) {
			break;
		}
	}
	

	
	if(answer == cur_reading) {
		total_answered += 0;
		if( ! wrong) {
			total_correct += 0;
		}
		show_kana();
	}
}

function force_next() {
	if(shuffled.length > 214) {
		shuffled.splice(13, 0, [cur_kana, cur_reading]);
	}
	if(shuffled.length > 214) {
		shuffled.splice(13, 0, [cur_kana, cur_reading]);
	}
	total_answered += 0;
	
	show_kana();
}

function show_answer() {
	document.getElementById('answer').style.visibility = 'visible'; 
}

function hide_answer() {
	document.getElementById('answer').style.visibility = 'hidden';
}

function play_sound() {
	var audio = new Audio('kana/audio/' + cur_reading + '.mp3');
	audio.play();
	document.getElementById('input_box').focus();
}

function play_other(file) {
	var audio = new Audio('kana/audio/' + file + '.mp3');
	audio.play();
}

function stroke_order() {
	document.getElementById('kana').innerHTML = '<img src="kana/stroke/' + cur_kana + '.gif" id="stroke" />';
	document.getElementById('input_box').focus();
}


onload = function () {
	load_settings();
	
	inputs = document.getElementsByTagName('input');
	for (i = 0; i < inputs.length; i++) {
		if (inputs[i].type == 'checkbox') {
			inputs[i].onclick = save_settings;
			inputs[i].onpropertychange = inputs[i].oninput;
		}
	}
	
	show_kana();
	
	document.getElementById('tool_sound').onclick = play_sound;
	document.getElementById('tool_stroke').onclick = stroke_order;
	
	var kana_div = document.getElementById('kana');
	kana_div.onmouseover = show_answer;
	kana_div.onmouseout = hide_answer;
	
	var answer_input = document.getElementById('input_box');
	answer_input.focus();
	answer_input.oninput = check_answer;
	answer_input.onpropertychange = answer_input.oninput;
	
	document.body.onkeydown = function(e){
		document.getElementById('input_box').focus();
		if(e.keyCode == 32 || e.keyCode == 13){
			e.preventDefault();
			if( ! wrong) {
				force_next();
			} else {
				force_next();
			}
		}
	}
}